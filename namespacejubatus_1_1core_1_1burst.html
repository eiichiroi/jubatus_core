<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>jubatus_core: jubatus::core::burst Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">jubatus_core
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">Jubatus: Online machine learning framework for distributed environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejubatus.html">jubatus</a></li><li class="navelem"><a class="el" href="namespacejubatus_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacejubatus_1_1core_1_1burst.html">burst</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">jubatus::core::burst Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1aggregator.html">aggregator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1basic__window.html">basic_window</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjubatus_1_1core_1_1burst_1_1batch__input.html">batch_input</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjubatus_1_1core_1_1burst_1_1batch__result.html">batch_result</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1burst.html">burst</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjubatus_1_1core_1_1burst_1_1burst__options.html">burst_options</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1burst__result.html">burst_result</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1input__window.html">input_window</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html">intersection_helper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjubatus_1_1core_1_1burst_1_1keyword__params.html">keyword_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structjubatus_1_1core_1_1burst_1_1keyword__with__params.html">keyword_with_params</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1result__storage.html">result_storage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1burst_1_1result__window.html">result_window</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a5f8ec59ec49e756f99fddaa57150bbf7"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classjubatus_1_1core_1_1framework_1_1linear__mixable__helper.html">framework::linear_mixable_helper</a>&lt; <a class="el" href="classjubatus_1_1core_1_1burst_1_1burst.html">burst</a>, <a class="el" href="classjubatus_1_1core_1_1burst_1_1burst_1_1diff__t.html">burst::diff_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1burst.html#a5f8ec59ec49e756f99fddaa57150bbf7">mixable_burst</a></td></tr>
<tr class="separator:a5f8ec59ec49e756f99fddaa57150bbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adfdf57d581f6b8628e20300e08504712"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1burst.html#adfdf57d581f6b8628e20300e08504712">burst_detect</a> (const std::vector&lt; uint32_t &gt; &amp;d_vector, const std::vector&lt; uint32_t &gt; &amp;r_vector, std::vector&lt; double &gt; &amp;batch_weights, double scaling_param, double gamma, double burst_cut_threshold)</td></tr>
<tr class="separator:adfdf57d581f6b8628e20300e08504712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee502c7e2454a9c7d00e73e3c533e4e"><td class="memTemplParams" colspan="2">template&lt;class W1 , class W2 &gt; </td></tr>
<tr class="memitem:a9ee502c7e2454a9c7d00e73e3c533e4e"><td class="memTemplItemLeft" align="right" valign="top">std::pair&lt; int, int &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1burst.html#a9ee502c7e2454a9c7d00e73e3c533e4e">get_intersection</a> (const W1 &amp;w1, const W2 &amp;w2)</td></tr>
<tr class="separator:a9ee502c7e2454a9c7d00e73e3c533e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fb7e62a87494349cd8c0bc9b89a65ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1burst.html#a4fb7e62a87494349cd8c0bc9b89a65ca">window_position_near</a> (double pos0, double pos1, double batch_interval)</td></tr>
<tr class="separator:a4fb7e62a87494349cd8c0bc9b89a65ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a89b30c913d5468c0fc647d5e57f27ecf"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="structjubatus_1_1core_1_1burst_1_1batch__result.html">batch_result</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1burst.html#a89b30c913d5468c0fc647d5e57f27ecf">empty_batch_results</a></td></tr>
<tr class="separator:a89b30c913d5468c0fc647d5e57f27ecf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75cc50fb6034d39879f46b6cc6ad2b6d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1burst.html#a75cc50fb6034d39879f46b6cc6ad2b6d">survival_mix_count_from_set_unprocessed</a> = 5</td></tr>
<tr class="separator:a75cc50fb6034d39879f46b6cc6ad2b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a5f8ec59ec49e756f99fddaa57150bbf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classjubatus_1_1core_1_1framework_1_1linear__mixable__helper.html">framework::linear_mixable_helper</a>&lt;<a class="el" href="classjubatus_1_1core_1_1burst_1_1burst.html">burst</a>, <a class="el" href="classjubatus_1_1core_1_1burst_1_1burst_1_1diff__t.html">burst::diff_t</a>&gt; <a class="el" href="namespacejubatus_1_1core_1_1burst.html#a5f8ec59ec49e756f99fddaa57150bbf7">jubatus::core::burst::mixable_burst</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="burst_2burst_8hpp_source.html#l00129">129</a> of file <a class="el" href="burst_2burst_8hpp_source.html">burst.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="adfdf57d581f6b8628e20300e08504712"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jubatus::core::burst::burst_detect </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>d_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>r_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>batch_weights</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scaling_param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>gamma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>burst_cut_threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="engine_8cpp_source.html#l00159">159</a> of file <a class="el" href="engine_8cpp_source.html">engine.cpp</a>.</p>

<p>References <a class="el" href="common_2exception_8hpp_source.html#l00079">JUBATUS_EXCEPTION</a>.</p>

<p>Referenced by <a class="el" href="burst__result_8cpp_source.html#l00049">jubatus::core::burst::burst_result::burst_result()</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                                              {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> window_size = d_vector.size();</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (gamma &lt;= 0) {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a>(</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        common::invalid_parameter(<span class="stringliteral">&quot;gamma must be &gt; 0.&quot;</span>));</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span> (scaling_param &lt;= 1) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a>(</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        common::invalid_parameter(<span class="stringliteral">&quot;scaling_param must be &gt; 1.&quot;</span>));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordflow">if</span> (burst_cut_threshold &lt;= 0) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a>(</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        common::invalid_parameter(<span class="stringliteral">&quot;burst_cut_threshold must be &gt; 0.&quot;</span>));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordflow">if</span> (d_vector.size() != r_vector.size()) {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a>(</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        common::invalid_parameter(<span class="stringliteral">&quot;d_vector.size() != r_vector.size()&quot;</span>));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> batch_id = 0; batch_id &lt; window_size; batch_id++) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (d_vector[batch_id] &lt; r_vector[batch_id]) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keywordflow">throw</span> <a class="code" href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a>(</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          common::invalid_parameter(</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="stringliteral">&quot;d_vector[batch_id] &lt; r_vector[batch_id]&quot;</span>));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keyword">const</span> std::vector&lt;double&gt; p_vector</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    = get_p_vector(d_vector, r_vector, scaling_param);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  erase_uncalc_batches(batch_weights);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// exception handling of</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// - &quot;p_{burst_state} &gt; 1&quot;</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="comment">// - &quot;p_{base_state} = 0&quot;</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="keywordflow">if</span> (1 &lt; p_vector[kBurstState]) {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    batch_weights.resize(window_size, INFINITY);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p_vector[kBaseState] == 0) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    batch_weights.resize(window_size, 0);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> reuse_batch_size = batch_weights.size();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// the optimal costvals</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// - index 0: [1st batch - prev batch] optimal seq -&gt; [now] base</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// - index 1: [1st batch - prev batch] optimal seq -&gt; [now] burst</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordtype">double</span> prev_optimal_in_now_states_costs[] = {-1, -1};</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// the optimal costval from 1st batch to previuous batch.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  <span class="comment">// - index 0: previous : base</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// - index 1: previous : burst</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <span class="comment">// To avoid &quot;burst state in 1st batch&quot;,</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// we must set to INFINITY the &quot;cost val of burst state&quot;.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="keywordtype">double</span> prev_optimal_costs[] = {0, INFINITY};</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">if</span> (batch_weights.size() != 0 &amp;&amp; 0 &lt; batch_weights.back()) {</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// To avoid &quot;base state in 1st batch&quot;,</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="comment">// we must set to INFINITY the &quot;cost val of base state&quot;.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    prev_optimal_costs[kBaseState] = INFINITY;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    prev_optimal_costs[kBurstState] = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">// state sequences from 1st batch to now batch.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// - index 0: [1st batch - prev batch] optimal seq -&gt; [now] base</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="comment">// - index 1: [1st batch - prev batch] optimal seq -&gt; [now] burst</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  std::vector&lt;std::vector&lt;int&gt; &gt; prev_optimal_in_now_states_seq(kStatesNum);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="comment">// state sequences from 1st batch to previous batch.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;  <span class="comment">// - index 0: [1st batch - prev batch] optimal seq &amp; [prev] base</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="comment">// - index 1: [1st batch - prev batch] optimal seq &amp; [prev] burst</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  std::vector&lt;std::vector&lt;int&gt; &gt; prev_optimal_states_seq(kStatesNum);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> update_batch_id = 0;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      update_batch_id &lt; window_size - reuse_batch_size;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      update_batch_id++) {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> now_state = kBaseState; now_state &lt; kStatesNum; now_state++) {</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      std::pair&lt;int, double&gt; prev_optimal_pair;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <span class="keywordflow">if</span> ((0 &lt; update_batch_id + reuse_batch_size) &amp;&amp;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;         (d_vector[update_batch_id + reuse_batch_size - 1] == 0)) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="comment">// exception handling</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="comment">// in prev batch,</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="comment">// (d, r) = (0, 0)</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        prev_optimal_pair.first = kBaseState;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        prev_optimal_pair.second =</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            prev_optimal_costs[kBaseState] +</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            tau(kBaseState, now_state, gamma, window_size);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (0 &lt; update_batch_id + reuse_batch_size &amp;&amp;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          check_branch_cuttable(d_vector, r_vector, p_vector,</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                update_batch_id + reuse_batch_size - 1,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                burst_cut_threshold)) {</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        prev_optimal_pair.first = kBaseState;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        prev_optimal_pair.second =</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            prev_optimal_costs[kBaseState] +</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            tau(kBaseState, now_state, gamma, window_size);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        prev_optimal_pair =</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            calc_previous_optimal_state(now_state,</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                                        prev_optimal_costs[kBaseState],</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                        prev_optimal_costs[kBurstState],</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                                        gamma, window_size);</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      prev_optimal_in_now_states_costs[now_state] =</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          prev_optimal_pair.second +</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          sigma(p_vector[now_state],</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                d_vector[update_batch_id + reuse_batch_size],</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                r_vector[update_batch_id + reuse_batch_size]);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      prev_optimal_in_now_states_seq[now_state] =</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          prev_optimal_states_seq[prev_optimal_pair.first];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      prev_optimal_in_now_states_seq[now_state].push_back(now_state);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="comment">// ready for precessing the next batch.</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> state = kBaseState; state &lt; kStatesNum; state++) {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      prev_optimal_costs[state] = prev_optimal_in_now_states_costs[state];</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      prev_optimal_states_seq[state] =</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          prev_optimal_in_now_states_seq[state];</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  std::vector&lt;int&gt; optimal_states_seq;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (d_vector[window_size - 1] == 0) {</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="comment">// exception handling</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// in prev batch,</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">// (d, r) = (0, 0)</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    optimal_states_seq = prev_optimal_in_now_states_seq[kBaseState];</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (check_branch_cuttable(d_vector, r_vector, p_vector,</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                                  window_size - 1,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                                  burst_cut_threshold)) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    optimal_states_seq = prev_optimal_in_now_states_seq[kBaseState];</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    optimal_states_seq =</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        prev_optimal_in_now_states_costs[kBaseState] &lt;=</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            prev_optimal_in_now_states_costs[kBurstState] ?</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;          prev_optimal_in_now_states_seq[kBaseState] :</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          prev_optimal_in_now_states_seq[kBurstState];</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="comment">// calculation of batch_weights</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// reuse of past results</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> batch_id = 0; batch_id &lt; reuse_batch_size; batch_id++) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (0 &lt; batch_weights[batch_id]) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;      batch_weights[batch_id] =</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          get_batch_weight(d_vector, r_vector, p_vector, batch_id);</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="comment">// new calculation</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> batch_id = reuse_batch_size; batch_id &lt; window_size; batch_id++) {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">int</span> state = optimal_states_seq[batch_id - reuse_batch_size];</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    batch_weights.push_back(state == kBurstState ?</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                              get_batch_weight(d_vector, r_vector,</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                                               p_vector, batch_id) :</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                              0);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;}</div>
<div class="ttc" id="common_2exception_8hpp_html_aff10b0eb90b477115ab3955c3995d327"><div class="ttname"><a href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a></div><div class="ttdeci">#define JUBATUS_EXCEPTION(e)</div><div class="ttdef"><b>Definition:</b> <a href="common_2exception_8hpp_source.html#l00079">exception.hpp:79</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1burst_adfdf57d581f6b8628e20300e08504712_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1burst_adfdf57d581f6b8628e20300e08504712_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1burst_adfdf57d581f6b8628e20300e08504712_icgraph" id="namespacejubatus_1_1core_1_1burst_adfdf57d581f6b8628e20300e08504712_icgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#a4ce44e7c7e1e2d21cbb5aa1e67a373f2" title="jubatus::core::burst\l::burst_result::burst\l_result" alt="" coords="188,5,324,57"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9ee502c7e2454a9c7d00e73e3c533e4e"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class W1 , class W2 &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt;int, int&gt; jubatus::core::burst::get_intersection </td>
          <td>(</td>
          <td class="paramtype">const W1 &amp;&#160;</td>
          <td class="paramname"><em>w1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const W2 &amp;&#160;</td>
          <td class="paramname"><em>w2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="window__intersection_8hpp_source.html#l00118">118</a> of file <a class="el" href="window__intersection_8hpp_source.html">window_intersection.hpp</a>.</p>

<p>References <a class="el" href="window__intersection_8hpp_source.html#l00058">jubatus::core::burst::intersection_helper::get_intersection()</a>.</p>

<p>Referenced by <a class="el" href="burst__result_8cpp_source.html#l00049">jubatus::core::burst::burst_result::burst_result()</a>, <a class="el" href="aggregator_8cpp_source.html#l00066">jubatus::core::burst::aggregator::impl_::flush_results()</a>, and <a class="el" href="aggregator_8cpp_source.html#l00114">jubatus::core::burst::aggregator::impl_::make_new_window_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                                                               {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="keywordflow">return</span> intersection_helper(w1).get_intersection(w2);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_cgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_cgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_cgraph" id="namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_cgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#a76ae76958374d893877b118f90119342" title="jubatus::core::burst\l::intersection_helper\l::get_intersection" alt="" coords="188,113,329,165"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#aa9d9a5c1b037ee25a2697ac786fca206" title="jubatus::core::burst\l::intersection_helper\l::get_index_for_boundary" alt="" coords="394,81,567,133"/><area shape="rect" id="node7" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#ad2472128bce68043ad274011cf4d761f" title="jubatus::core::burst\l::intersection_helper\l::no_index" alt="" coords="631,157,773,209"/><area shape="rect" id="node8" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#ac815eb1aa6e34b285b3b222a7e70861e" title="jubatus::core::burst\l::intersection_helper\l::has_batch_interval_equals_to" alt="" coords="377,5,583,57"/><area shape="rect" id="node9" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#a1de4db5915bd1d39e391b7d10f737e52" title="jubatus::core::burst\l::intersection_helper\l::adjust_index" alt="" coords="410,209,551,261"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#a9314217b74504657d2c7f9ecd47f0ebe" title="jubatus::core::burst\l::intersection_helper\l::get_index_" alt="" coords="631,81,773,133"/><area shape="rect" id="node5" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#aa19494dbdc861d4409c6cff3101ffe04" title="jubatus::core::burst\l::intersection_helper\l::position_near" alt="" coords="631,5,773,57"/><area shape="rect" id="node6" href="namespacejubatus_1_1core_1_1burst.html#a4fb7e62a87494349cd8c0bc9b89a65ca" title="jubatus::core::burst\l::window_position_near" alt="" coords="821,12,981,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_icgraph" id="namespacejubatus_1_1core_1_1burst_a9ee502c7e2454a9c7d00e73e3c533e4e_icgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#a4ce44e7c7e1e2d21cbb5aa1e67a373f2" title="jubatus::core::burst\l::burst_result::burst\l_result" alt="" coords="193,5,328,57"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1burst_1_1aggregator_1_1impl__.html#a8bfb29c0c4c0d1d6baee4d6581cbc9fe" title="jubatus::core::burst\l::aggregator::impl_::\lflush_results" alt="" coords="191,81,331,133"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1burst_1_1aggregator_1_1impl__.html#aed87d5c16ae4d773355d32d039ee8d36" title="jubatus::core::burst\l::aggregator::impl_::\lmake_new_window_" alt="" coords="188,157,333,209"/><area shape="rect" id="node5" href="classjubatus_1_1core_1_1burst_1_1aggregator_1_1impl__.html#adf171938022788763fb8b89308500392" title="jubatus::core::burst\l::aggregator::impl_::\ladd_document" alt="" coords="381,157,521,209"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fb7e62a87494349cd8c0bc9b89a65ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool jubatus::core::burst::window_position_near </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pos0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pos1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>batch_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="window__intersection_8hpp_source.html#l00035">35</a> of file <a class="el" href="window__intersection_8hpp_source.html">window_intersection.hpp</a>.</p>

<p>Referenced by <a class="el" href="burst__result_8cpp_source.html#l00146">jubatus::core::burst::burst_result::has_same_start_pos_to()</a>, <a class="el" href="burst__result_8cpp_source.html#l00135">jubatus::core::burst::burst_result::has_start_pos_newer_than()</a>, <a class="el" href="burst__result_8cpp_source.html#l00124">jubatus::core::burst::burst_result::has_start_pos_older_than()</a>, and <a class="el" href="window__intersection_8hpp_source.html#l00087">jubatus::core::burst::intersection_helper::position_near()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                                                     {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordflow">return</span> std::abs(pos1 - pos0) / batch_interval &lt; 0.01;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1burst_a4fb7e62a87494349cd8c0bc9b89a65ca_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1burst_a4fb7e62a87494349cd8c0bc9b89a65ca_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1burst_a4fb7e62a87494349cd8c0bc9b89a65ca_icgraph" id="namespacejubatus_1_1core_1_1burst_a4fb7e62a87494349cd8c0bc9b89a65ca_icgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#aa8fbc4f367a180f74bbd1b7face2fada" title="jubatus::core::burst\l::burst_result::has_same\l_start_pos_to" alt="" coords="442,5,609,57"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#ae8f319980959eb663a5466ab0a9679b0" title="jubatus::core::burst\l::burst_result::has_start\l_pos_newer_than" alt="" coords="214,37,375,89"/><area shape="rect" id="node5" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#aa90d888802b389ece66a5324b9ecaba5" title="jubatus::core::burst\l::burst_result::has_start\l_pos_older_than" alt="" coords="214,113,375,165"/><area shape="rect" id="node6" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#aa19494dbdc861d4409c6cff3101ffe04" title="jubatus::core::burst\l::intersection_helper\l::position_near" alt="" coords="224,189,365,241"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#a811ae0d5e215bea7cec3a141ca990fbe" title="jubatus::core::burst\l::burst_result::mix" alt="" coords="892,61,1027,100"/><area shape="rect" id="node7" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#aa9d9a5c1b037ee25a2697ac786fca206" title="jubatus::core::burst\l::intersection_helper\l::get_index_for_boundary" alt="" coords="439,189,612,241"/><area shape="rect" id="node14" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#ac815eb1aa6e34b285b3b222a7e70861e" title="jubatus::core::burst\l::intersection_helper\l::has_batch_interval_equals_to" alt="" coords="423,113,629,165"/><area shape="rect" id="node8" href="classjubatus_1_1core_1_1burst_1_1intersection__helper.html#a76ae76958374d893877b118f90119342" title="jubatus::core::burst\l::intersection_helper\l::get_intersection" alt="" coords="690,184,831,236"/><area shape="rect" id="node9" href="namespacejubatus_1_1core_1_1burst.html#a9ee502c7e2454a9c7d00e73e3c533e4e" title="jubatus::core::burst\l::get_intersection" alt="" coords="892,191,1027,229"/><area shape="rect" id="node10" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#a4ce44e7c7e1e2d21cbb5aa1e67a373f2" title="jubatus::core::burst\l::burst_result::burst\l_result" alt="" coords="1079,108,1215,160"/><area shape="rect" id="node11" href="classjubatus_1_1core_1_1burst_1_1aggregator_1_1impl__.html#a8bfb29c0c4c0d1d6baee4d6581cbc9fe" title="jubatus::core::burst\l::aggregator::impl_::\lflush_results" alt="" coords="1077,184,1217,236"/><area shape="rect" id="node12" href="classjubatus_1_1core_1_1burst_1_1aggregator_1_1impl__.html#aed87d5c16ae4d773355d32d039ee8d36" title="jubatus::core::burst\l::aggregator::impl_::\lmake_new_window_" alt="" coords="1075,260,1220,312"/><area shape="rect" id="node13" href="classjubatus_1_1core_1_1burst_1_1aggregator_1_1impl__.html#adf171938022788763fb8b89308500392" title="jubatus::core::burst\l::aggregator::impl_::\ladd_document" alt="" coords="1268,260,1408,312"/><area shape="rect" id="node15" href="classjubatus_1_1core_1_1burst_1_1burst__result.html#a27175814b83316b09d00f405b8c8e881" title="jubatus::core::burst\l::burst_result::has_same\l_batch_interval" alt="" coords="677,97,844,149"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a89b30c913d5468c0fc647d5e57f27ecf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="structjubatus_1_1core_1_1burst_1_1batch__result.html">batch_result</a>&gt; jubatus::core::burst::empty_batch_results</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="burst__result_8cpp_source.html#l00162">162</a> of file <a class="el" href="burst__result_8cpp_source.html">burst_result.cpp</a>.</p>

<p>Referenced by <a class="el" href="burst__result_8cpp_source.html#l00164">jubatus::core::burst::burst_result::get_batches()</a>.</p>

</div>
</div>
<a class="anchor" id="a75cc50fb6034d39879f46b6cc6ad2b6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int jubatus::core::burst::survival_mix_count_from_set_unprocessed = 5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="burst_2burst_8cpp_source.html#l00039">39</a> of file <a class="el" href="burst_2burst_8cpp_source.html">burst.cpp</a>.</p>

<p>Referenced by <a class="el" href="burst_2burst_8cpp_source.html#l00145">jubatus::core::burst::burst::impl_::aggregate_helper_::set_unprocessed()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 23 2015 22:18:37 for jubatus_core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
