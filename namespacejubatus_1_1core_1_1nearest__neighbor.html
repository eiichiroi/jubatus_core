<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>jubatus_core: jubatus::core::nearest_neighbor Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">jubatus_core
   &#160;<span id="projectnumber">0.1.2</span>
   </div>
   <div id="projectbrief">Jubatus: Online machine learning framework for distributed environment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejubatus.html">jubatus</a></li><li class="navelem"><a class="el" href="namespacejubatus_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html">nearest_neighbor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">jubatus::core::nearest_neighbor Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1bit__vector__nearest__neighbor__base.html">bit_vector_nearest_neighbor_base</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1euclid__lsh.html">euclid_lsh</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1lsh.html">lsh</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1minhash.html">minhash</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1nearest__neighbor__base.html">nearest_neighbor_base</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1nearest__neighbor__exception.html">nearest_neighbor_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1unimplemented__exception.html">unimplemented_exception</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6fd53e5f882f65671c9af02c64fe63db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">storage::bit_vector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a6fd53e5f882f65671c9af02c64fe63db">binarize</a> (const std::vector&lt; float &gt; &amp;proj)</td></tr>
<tr class="separator:a6fd53e5f882f65671c9af02c64fe63db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5327537ebeed9181646a1371644f7a85"><td class="memItemLeft" align="right" valign="top">bit_vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a5327537ebeed9181646a1371644f7a85">binarize</a> (const vector&lt; float &gt; &amp;proj)</td></tr>
<tr class="separator:a5327537ebeed9181646a1371644f7a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab773a4c647d221e9477f85c5f106c993"><td class="memItemLeft" align="right" valign="top">bit_vector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#ab773a4c647d221e9477f85c5f106c993">cosine_lsh</a> (const <a class="el" href="namespacejubatus_1_1core_1_1common.html#a8834396b360f728705429b812ec15690">common::sfv_t</a> &amp;sfv, uint32_t hash_num)</td></tr>
<tr class="separator:ab773a4c647d221e9477f85c5f106c993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ba5447bb69d85a61d44f486bb75491f"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; <a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1nearest__neighbor__base.html">nearest_neighbor_base</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a4ba5447bb69d85a61d44f486bb75491f">create_nearest_neighbor</a> (const std::string &amp;name, const <a class="el" href="classjubatus_1_1core_1_1common_1_1jsonconfig_1_1config.html">common::jsonconfig::config</a> &amp;config, shared_ptr&lt; <a class="el" href="classjubatus_1_1core_1_1storage_1_1column__table.html">storage::column_table</a> &gt; table, const std::string &amp;id)</td></tr>
<tr class="separator:a4ba5447bb69d85a61d44f486bb75491f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad87f299e0e288a75376b1b40a128fb95"><td class="memItemLeft" align="right" valign="top">jubatus::util::lang::shared_ptr&lt; <a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1nearest__neighbor__base.html">nearest_neighbor_base</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#ad87f299e0e288a75376b1b40a128fb95">create_nearest_neighbor</a> (const std::string &amp;name, const <a class="el" href="classjubatus_1_1core_1_1common_1_1jsonconfig_1_1config.html">common::jsonconfig::config</a> &amp;config, jubatus::util::lang::shared_ptr&lt; <a class="el" href="classjubatus_1_1core_1_1storage_1_1column__table.html">storage::column_table</a> &gt; table, const std::string &amp;id)</td></tr>
<tr class="separator:ad87f299e0e288a75376b1b40a128fb95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2e6700871bb164e6d7aa48b191d501"><td class="memItemLeft" align="right" valign="top">vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a4a2e6700871bb164e6d7aa48b191d501">random_projection</a> (const <a class="el" href="namespacejubatus_1_1core_1_1common.html#a8834396b360f728705429b812ec15690">common::sfv_t</a> &amp;sfv, uint32_t hash_num)</td></tr>
<tr class="separator:a4a2e6700871bb164e6d7aa48b191d501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bdda0857c1d11f5a86e8b7d023ade9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#aa2bdda0857c1d11f5a86e8b7d023ade9">ranking_hamming_bit_vectors</a> (const bit_vector &amp;query, const const_bit_vector_column &amp;bvs, vector&lt; pair&lt; uint64_t, float &gt; &gt; &amp;ret, uint64_t ret_num)</td></tr>
<tr class="separator:aa2bdda0857c1d11f5a86e8b7d023ade9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc5546b8837a6cc2d0ef5d82ecaba05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a9dc5546b8837a6cc2d0ef5d82ecaba05">ranking_hamming_bit_vectors</a> (const <a class="el" href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">storage::bit_vector</a> &amp;query, const <a class="el" href="namespacejubatus_1_1core_1_1storage.html#a63667ab3881bcaac68e5c148d4bc05ff">storage::const_bit_vector_column</a> &amp;bvs, std::vector&lt; std::pair&lt; uint64_t, float &gt; &gt; &amp;ret, uint64_t ret_num)</td></tr>
<tr class="separator:a9dc5546b8837a6cc2d0ef5d82ecaba05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a6fd53e5f882f65671c9af02c64fe63db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">storage::bit_vector</a> jubatus::core::nearest_neighbor::binarize </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>proj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5327537ebeed9181646a1371644f7a85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bit_vector jubatus::core::nearest_neighbor::binarize </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>proj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lsh__function_8cpp_source.html#l00043">43</a> of file <a class="el" href="lsh__function_8cpp_source.html">lsh_function.cpp</a>.</p>

<p>References <a class="el" href="bit__vector_8hpp_source.html#l00231">jubatus::core::storage::bit_vector_base&lt; bit_base &gt;::set_bit()</a>.</p>

<p>Referenced by <a class="el" href="lsh__function_8cpp_source.html#l00053">cosine_lsh()</a>, and <a class="el" href="lsh__index__storage_8cpp_source.html#l00373">jubatus::core::storage::lsh_index_storage::make_entry()</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                                               {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">bit_vector</a> bv(proj.size());</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; proj.size(); ++i) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> (proj[i] &gt; 0) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      bv.<a class="code" href="classjubatus_1_1core_1_1storage_1_1bit__vector__base.html#a118875b59965b95d9629e5daf84eab52">set_bit</a>(i);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">return</span> bv;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
<div class="ttc" id="classjubatus_1_1core_1_1storage_1_1bit__vector__base_html_a118875b59965b95d9629e5daf84eab52"><div class="ttname"><a href="classjubatus_1_1core_1_1storage_1_1bit__vector__base.html#a118875b59965b95d9629e5daf84eab52">jubatus::core::storage::bit_vector_base::set_bit</a></div><div class="ttdeci">void set_bit(size_t pos)</div><div class="ttdef"><b>Definition:</b> <a href="bit__vector_8hpp_source.html#l00231">bit_vector.hpp:231</a></div></div>
<div class="ttc" id="namespacejubatus_1_1core_1_1storage_html_a3cf0187e222972df167b5f987cbc3b4e"><div class="ttname"><a href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">jubatus::core::storage::bit_vector</a></div><div class="ttdeci">bit_vector_base&lt; uint64_t &gt; bit_vector</div><div class="ttdef"><b>Definition:</b> <a href="bit__vector__ranking_8hpp_source.html#l00027">bit_vector_ranking.hpp:27</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_cgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_cgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_cgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_cgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1storage_1_1bit__vector__base.html#a118875b59965b95d9629e5daf84eab52" title="jubatus::core::storage\l::bit_vector_base::set_bit" alt="" coords="203,5,372,44"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_icgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_a5327537ebeed9181646a1371644f7a85_icgraph">
<area shape="rect" id="node2" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#ab773a4c647d221e9477f85c5f106c993" title="jubatus::core::nearest\l_neighbor::cosine_lsh" alt="" coords="234,81,385,120"/><area shape="rect" id="node5" href="classjubatus_1_1core_1_1storage_1_1lsh__index__storage.html#a1600c18e5dc5f374ef1254595e1331ea" title="jubatus::core::storage\l::lsh_index_storage::make_entry" alt="" coords="203,144,417,183"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1nearest__neighbor_1_1euclid__lsh.html#a0fe67925b0c2205f08948d2d94dd3fd0" title="jubatus::core::nearest\l_neighbor::euclid_lsh\l::set_row" alt="" coords="486,5,635,57"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1nearest__neighbor_1_1lsh.html#aaeb32ec2ec639ee555101a42126d2672" title="jubatus::core::nearest\l_neighbor::lsh::hash" alt="" coords="486,81,635,120"/><area shape="rect" id="node6" href="classjubatus_1_1core_1_1storage_1_1lsh__index__storage.html#acb1068cb0043d253af4825efbd5018f0" title="jubatus::core::storage\l::lsh_index_storage::set_row" alt="" coords="465,144,656,183"/><area shape="rect" id="node7" href="classjubatus_1_1core_1_1recommender_1_1euclid__lsh.html#ae8409df7d0648bef822a5aadba85e2da" title="jubatus::core::recommender\l::euclid_lsh::update_row" alt="" coords="704,144,891,183"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab773a4c647d221e9477f85c5f106c993"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">storage::bit_vector</a> jubatus::core::nearest_neighbor::cosine_lsh </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacejubatus_1_1core_1_1common.html#a8834396b360f728705429b812ec15690">common::sfv_t</a> &amp;&#160;</td>
          <td class="paramname"><em>sfv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>hash_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lsh__function_8cpp_source.html#l00053">53</a> of file <a class="el" href="lsh__function_8cpp_source.html">lsh_function.cpp</a>.</p>

<p>References <a class="el" href="lsh__function_8cpp_source.html#l00043">binarize()</a>, and <a class="el" href="lsh__function_8cpp_source.html#l00031">random_projection()</a>.</p>

<p>Referenced by <a class="el" href="nearest__neighbor_2lsh_8cpp_source.html#l00053">jubatus::core::nearest_neighbor::lsh::hash()</a>, and <a class="el" href="nearest__neighbor_2euclid__lsh_8cpp_source.html#l00083">jubatus::core::nearest_neighbor::euclid_lsh::set_row()</a>.</p>
<div class="fragment"><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                                 {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a5327537ebeed9181646a1371644f7a85">binarize</a>(<a class="code" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a4a2e6700871bb164e6d7aa48b191d501">random_projection</a>(sfv, hash_num));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="namespacejubatus_1_1core_1_1nearest__neighbor_html_a5327537ebeed9181646a1371644f7a85"><div class="ttname"><a href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a5327537ebeed9181646a1371644f7a85">jubatus::core::nearest_neighbor::binarize</a></div><div class="ttdeci">bit_vector binarize(const vector&lt; float &gt; &amp;proj)</div><div class="ttdef"><b>Definition:</b> <a href="lsh__function_8cpp_source.html#l00043">lsh_function.cpp:43</a></div></div>
<div class="ttc" id="namespacejubatus_1_1core_1_1nearest__neighbor_html_a4a2e6700871bb164e6d7aa48b191d501"><div class="ttname"><a href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a4a2e6700871bb164e6d7aa48b191d501">jubatus::core::nearest_neighbor::random_projection</a></div><div class="ttdeci">vector&lt; float &gt; random_projection(const common::sfv_t &amp;sfv, uint32_t hash_num)</div><div class="ttdef"><b>Definition:</b> <a href="lsh__function_8cpp_source.html#l00031">lsh_function.cpp:31</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_cgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_cgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_cgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_cgraph">
<area shape="rect" id="node2" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a5327537ebeed9181646a1371644f7a85" title="jubatus::core::nearest\l_neighbor::binarize" alt="" coords="229,5,378,44"/><area shape="rect" id="node4" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#a4a2e6700871bb164e6d7aa48b191d501" title="jubatus::core::nearest\l_neighbor::random_projection" alt="" coords="204,68,403,107"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1storage_1_1bit__vector__base.html#a118875b59965b95d9629e5daf84eab52" title="jubatus::core::storage\l::bit_vector_base::set_bit" alt="" coords="461,5,630,44"/><area shape="rect" id="node5" href="classjubatus_1_1core_1_1common_1_1hash__util.html#ac5b90d9d9df07171d8a311602b723de4" title="jubatus::core::common\l::hash_util::calc_string_hash" alt="" coords="451,68,640,107"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_icgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_ab773a4c647d221e9477f85c5f106c993_icgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1nearest__neighbor_1_1lsh.html#aaeb32ec2ec639ee555101a42126d2672" title="jubatus::core::nearest\l_neighbor::lsh::hash" alt="" coords="204,5,354,44"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1nearest__neighbor_1_1euclid__lsh.html#a0fe67925b0c2205f08948d2d94dd3fd0" title="jubatus::core::nearest\l_neighbor::euclid_lsh\l::set_row" alt="" coords="204,68,354,120"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ba5447bb69d85a61d44f486bb75491f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt;<a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1nearest__neighbor__base.html">nearest_neighbor_base</a>&gt; jubatus::core::nearest_neighbor::create_nearest_neighbor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classjubatus_1_1core_1_1common_1_1jsonconfig_1_1config.html">common::jsonconfig::config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">shared_ptr&lt; <a class="el" href="classjubatus_1_1core_1_1storage_1_1column__table.html">storage::column_table</a> &gt;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="nearest__neighbor__factory_8cpp_source.html#l00032">32</a> of file <a class="el" href="nearest__neighbor__factory_8cpp_source.html">nearest_neighbor_factory.cpp</a>.</p>

<p>References <a class="el" href="cast_8hpp_source.html#l00311">jubatus::core::common::jsonconfig::config_cast_check()</a>, and <a class="el" href="common_2exception_8hpp_source.html#l00079">JUBATUS_EXCEPTION</a>.</p>

<p>Referenced by <a class="el" href="anomaly__factory_8cpp_source.html#l00075">jubatus::core::anomaly::anomaly_factory::create_anomaly()</a>, <a class="el" href="classifier__factory_8cpp_source.html#l00089">jubatus::core::classifier::classifier_factory::create_classifier()</a>, and <a class="el" href="recommender__factory_8cpp_source.html#l00056">jubatus::core::recommender::recommender_factory::create_recommender()</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;                         {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="keyword">using</span> <a class="code" href="namespacejubatus_1_1core_1_1common_1_1jsonconfig.html#ade63ff3a224df5b6f8bf2558560330ac">common::jsonconfig::config_cast_check</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;euclid_lsh&quot;</span>) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">return</span> shared_ptr&lt;nearest_neighbor_base&gt;(</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keyword">new</span> euclid_lsh(config_cast_check&lt;euclid_lsh::config&gt;(config),</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;                       table,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                       <span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;lsh&quot;</span>) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> shared_ptr&lt;nearest_neighbor_base&gt;(</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keyword">new</span> lsh(config_cast_check&lt;lsh::config&gt;(config), table, <span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (name == <span class="stringliteral">&quot;minhash&quot;</span>) {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> shared_ptr&lt;nearest_neighbor_base&gt;(</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keyword">new</span> minhash(config_cast_check&lt;minhash::config&gt;(config), table, <span class="keywordtype">id</span>));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">throw</span> <a class="code" href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a>(common::unsupported_method(name));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="ttc" id="namespacejubatus_1_1core_1_1common_1_1jsonconfig_html_ade63ff3a224df5b6f8bf2558560330ac"><div class="ttname"><a href="namespacejubatus_1_1core_1_1common_1_1jsonconfig.html#ade63ff3a224df5b6f8bf2558560330ac">jubatus::core::common::jsonconfig::config_cast_check</a></div><div class="ttdeci">T config_cast_check(const config &amp;c)</div><div class="ttdef"><b>Definition:</b> <a href="cast_8hpp_source.html#l00311">cast.hpp:311</a></div></div>
<div class="ttc" id="common_2exception_8hpp_html_aff10b0eb90b477115ab3955c3995d327"><div class="ttname"><a href="common_2exception_8hpp.html#aff10b0eb90b477115ab3955c3995d327">JUBATUS_EXCEPTION</a></div><div class="ttdeci">#define JUBATUS_EXCEPTION(e)</div><div class="ttdef"><b>Definition:</b> <a href="common_2exception_8hpp_source.html#l00079">exception.hpp:79</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_cgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_cgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_cgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_cgraph">
<area shape="rect" id="node2" href="namespacejubatus_1_1core_1_1common_1_1jsonconfig.html#ade63ff3a224df5b6f8bf2558560330ac" title="jubatus::core::common\l::jsonconfig::config\l_cast_check" alt="" coords="230,5,387,57"/><area shape="rect" id="node3" href="namespacejubatus_1_1core_1_1common_1_1jsonconfig.html#aa8d0d613d9a4865546413ef364897444" title="jubatus::core::common\l::jsonconfig::serialize" alt="" coords="435,12,591,51"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1common_1_1jsonconfig_1_1member__collector.html#a485b26c2c74a3ed6493e04b254f79c02" title="jubatus::core::common\l::jsonconfig::member\l_collector::append" alt="" coords="639,5,795,57"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_icgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_a4ba5447bb69d85a61d44f486bb75491f_icgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1anomaly_1_1anomaly__factory.html#a5c853c94f7a4bfdfbef3433f470c49a7" title="jubatus::core::anomaly\l::anomaly_factory::create\l_anomaly" alt="" coords="481,35,652,87"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1classifier_1_1classifier__factory.html#a61271a4cd3d7df68ef7c5329d958c076" title="jubatus::core::classifier\l::classifier_factory::create\l_classifier" alt="" coords="246,28,418,80"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1recommender_1_1recommender__factory.html#af142a3d231a808293ebcde7d6c3a7940" title="jubatus::core::recommender\l::recommender_factory::create\l_recommender" alt="" coords="230,104,433,156"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad87f299e0e288a75376b1b40a128fb95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jubatus::util::lang::shared_ptr&lt;<a class="el" href="classjubatus_1_1core_1_1nearest__neighbor_1_1nearest__neighbor__base.html">nearest_neighbor_base</a>&gt; jubatus::core::nearest_neighbor::create_nearest_neighbor </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classjubatus_1_1core_1_1common_1_1jsonconfig_1_1config.html">common::jsonconfig::config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">jubatus::util::lang::shared_ptr&lt; <a class="el" href="classjubatus_1_1core_1_1storage_1_1column__table.html">storage::column_table</a> &gt;&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4a2e6700871bb164e6d7aa48b191d501"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; jubatus::core::nearest_neighbor::random_projection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacejubatus_1_1core_1_1common.html#a8834396b360f728705429b812ec15690">common::sfv_t</a> &amp;&#160;</td>
          <td class="paramname"><em>sfv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>hash_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lsh__function_8cpp_source.html#l00031">31</a> of file <a class="el" href="lsh__function_8cpp_source.html">lsh_function.cpp</a>.</p>

<p>References <a class="el" href="hash_8hpp_source.html#l00029">jubatus::core::common::hash_util::calc_string_hash()</a>.</p>

<p>Referenced by <a class="el" href="lsh__function_8cpp_source.html#l00053">cosine_lsh()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                                                                           {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;  vector&lt;float&gt; proj(hash_num);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; sfv.size(); ++i) {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keyword">const</span> uint32_t seed = common::hash_util::calc_string_hash(sfv[i].first);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    jubatus::util::math::random::mtrand rnd(seed);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">for</span> (uint32_t j = 0; j &lt; hash_num; ++j) {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      proj[j] += sfv[i].second * rnd.next_gaussian();</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">return</span> proj;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_cgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_cgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_cgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_cgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1common_1_1hash__util.html#ac5b90d9d9df07171d8a311602b723de4" title="jubatus::core::common\l::hash_util::calc_string_hash" alt="" coords="252,5,441,44"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_icgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_a4a2e6700871bb164e6d7aa48b191d501_icgraph">
<area shape="rect" id="node2" href="namespacejubatus_1_1core_1_1nearest__neighbor.html#ab773a4c647d221e9477f85c5f106c993" title="jubatus::core::nearest\l_neighbor::cosine_lsh" alt="" coords="252,40,403,79"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1nearest__neighbor_1_1lsh.html#aaeb32ec2ec639ee555101a42126d2672" title="jubatus::core::nearest\l_neighbor::lsh::hash" alt="" coords="451,5,600,44"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1nearest__neighbor_1_1euclid__lsh.html#a0fe67925b0c2205f08948d2d94dd3fd0" title="jubatus::core::nearest\l_neighbor::euclid_lsh\l::set_row" alt="" coords="451,68,600,120"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2bdda0857c1d11f5a86e8b7d023ade9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jubatus::core::nearest_neighbor::ranking_hamming_bit_vectors </td>
          <td>(</td>
          <td class="paramtype">const bit_vector &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const const_bit_vector_column &amp;&#160;</td>
          <td class="paramname"><em>bvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; pair&lt; uint64_t, float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ret_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="bit__vector__ranking_8cpp_source.html#l00034">34</a> of file <a class="el" href="bit__vector__ranking_8cpp_source.html">bit_vector_ranking.cpp</a>.</p>

<p>References <a class="el" href="clustering_2util_8cpp_source.html#l00151">jubatus::core::clustering::dist()</a>, <a class="el" href="fixed__size__heap_8hpp_source.html#l00056">jubatus::core::storage::fixed_size_heap&lt; T, Comp &gt;::get_sorted()</a>, and <a class="el" href="fixed__size__heap_8hpp_source.html#l00041">jubatus::core::storage::fixed_size_heap&lt; T, Comp &gt;::push()</a>.</p>

<p>Referenced by <a class="el" href="bit__vector__nearest__neighbor__base_8cpp_source.html#l00104">jubatus::core::nearest_neighbor::bit_vector_nearest_neighbor_base::neighbor_row_from_hash()</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                      {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  storage::fixed_size_heap&lt;pair&lt;uint32_t, uint64_t&gt; &gt; heap(ret_num);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">for</span> (uint64_t i = 0; i &lt; bvs.size(); ++i) {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="namespacejubatus_1_1core_1_1clustering.html#a5f8dd7e3cbc709ac470c95fcd6e3be82">dist</a> = query.calc_hamming_distance(bvs[i]);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    heap.push(make_pair(dist, i));</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  vector&lt;pair&lt;uint32_t, uint64_t&gt; &gt; sorted;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  heap.get_sorted(sorted);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  ret.clear();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">float</span> denom = query.bit_num();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; sorted.size(); ++i) {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    ret.push_back(make_pair(sorted[i].second, sorted[i].first / denom));</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="ttc" id="namespacejubatus_1_1core_1_1clustering_html_a5f8dd7e3cbc709ac470c95fcd6e3be82"><div class="ttname"><a href="namespacejubatus_1_1core_1_1clustering.html#a5f8dd7e3cbc709ac470c95fcd6e3be82">jubatus::core::clustering::dist</a></div><div class="ttdeci">double dist(const common::sfv_t &amp;p1, const common::sfv_t &amp;p2)</div><div class="ttdef"><b>Definition:</b> <a href="clustering_2util_8cpp_source.html#l00151">util.cpp:151</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_cgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_cgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_cgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_cgraph">
<area shape="rect" id="node2" href="namespacejubatus_1_1core_1_1clustering.html#a5f8dd7e3cbc709ac470c95fcd6e3be82" title="jubatus::core::clustering\l::dist" alt="" coords="247,5,410,44"/><area shape="rect" id="node3" href="classjubatus_1_1core_1_1storage_1_1fixed__size__heap.html#a21dc286c4b443a00c613ac7a27cd1924" title="jubatus::core::storage\l::fixed_size_heap::get\l_sorted" alt="" coords="253,68,404,120"/><area shape="rect" id="node4" href="classjubatus_1_1core_1_1storage_1_1fixed__size__heap.html#a97c8d5265fe3cee77d8459c079700b81" title="jubatus::core::storage\l::fixed_size_heap::push" alt="" coords="248,144,409,183"/><area shape="rect" id="node5" href="namespacejubatus_1_1core_1_1common_1_1jsonconfig.html#a04e9956193c1365cc36e32875c892543" title="jubatus::core::common\l::jsonconfig::v" alt="" coords="458,144,614,183"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_icgraph.png" border="0" usemap="#namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_icgraph" alt=""/></div>
<map name="namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_icgraph" id="namespacejubatus_1_1core_1_1nearest__neighbor_aa2bdda0857c1d11f5a86e8b7d023ade9_icgraph">
<area shape="rect" id="node2" href="classjubatus_1_1core_1_1nearest__neighbor_1_1bit__vector__nearest__neighbor__base.html#a2577949ecb41187ba72f4de6ce8c00d8" title="jubatus::core::nearest\l_neighbor::bit_vector\l_nearest_neighbor_base\l::neighbor_row_from_hash" alt="" coords="247,5,427,71"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9dc5546b8837a6cc2d0ef5d82ecaba05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void jubatus::core::nearest_neighbor::ranking_hamming_bit_vectors </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacejubatus_1_1core_1_1storage.html#a3cf0187e222972df167b5f987cbc3b4e">storage::bit_vector</a> &amp;&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacejubatus_1_1core_1_1storage.html#a63667ab3881bcaac68e5c148d4bc05ff">storage::const_bit_vector_column</a> &amp;&#160;</td>
          <td class="paramname"><em>bvs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::pair&lt; uint64_t, float &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>ret_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 28 2015 13:23:09 for jubatus_core by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
